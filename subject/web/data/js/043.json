{
  "url": "https://www.w3schools.com/js/js_ajax_php.asp",
  "title": "AJAX",
  "content": [
    {
      "type": "heading",
      "level": 1,
      "text": "AJAX PHP Example"
    },
    {
      "type": "paragraph",
      "text": "AJAX is used to create more interactive applications."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "AJAX PHP Example"
    },
    {
      "type": "paragraph",
      "text": "The following example demonstrates how a web page can communicate with a \nweb server while a user types characters in an input field:"
    },
    {
      "type": "example",
      "description": "",
      "codes": []
    },
    {
      "type": "heading",
      "level": 2,
      "text": "Example Explained"
    },
    {
      "type": "paragraph",
      "text": "In the example above, when a user types a character in the input field, a function \ncalled showHint() is executed."
    },
    {
      "type": "paragraph",
      "text": "The function is triggered by the onkeyup event."
    },
    {
      "type": "paragraph",
      "text": "Here is the code:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "<p>Start typing a name in the input field below:</p>\n<p>Suggestions: <span id=\"txtHint\"></span></p>\n<form>\nFirst name: <input type=\"text\" onkeyup=\"showHint(this.value)\"></form>\n<script>\nfunction showHint(str) {\n  if (str.length == 0) { \n    document.getElementById(\"txtHint\").innerHTML = \"\";\n    return;\n  } else {\n    const xmlhttp = new XMLHttpRequest();\n    xmlhttp.onload = function() {\n      document.getElementById(\"txtHint\").innerHTML = this.responseText;\n    }\n  xmlhttp.open(\"GET\", \"gethint.php?q=\" + str);\n  xmlhttp.send();\n  }\n}\n</script>"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "Code explanation:"
    },
    {
      "type": "paragraph",
      "text": "First, check if the input field is empty (str.length == 0). If it is, clear the \ncontent of the txtHint placeholder and exit the function."
    },
    {
      "type": "paragraph",
      "text": "However, if the input field is not empty, do the following:"
    },
    {
      "type": "other",
      "text": "Create an XMLHttpRequest object\n  Create the function to be executed when the server response is ready\n  Send the request off to a PHP file (gethint.php) on the server\n  Notice that q parameter is added gethint.php?q=\"+str\n  The str variable holds the content of the input field"
    },
    {
      "type": "heading",
      "level": 2,
      "text": "The PHP File - \"gethint.php\""
    },
    {
      "type": "paragraph",
      "text": "The PHP file checks an array of names, and returns the corresponding name(s) to the \nbrowser:"
    },
    {
      "type": "code",
      "language": "unknown",
      "code": "<?php\n// Array with names\n$a[] = \"Anna\";\n$a[] = \"Brittany\";\n$a[] = \"Cinderella\";\n$a[] = \"Diana\";\n$a[] = \"Eva\";\n$a[] = \"Fiona\";\n$a[] = \"Gunda\";\n$a[] = \"Hege\";\n$a[] = \"Inga\";\n$a[] = \"Johanna\";\n$a[] = \"Kitty\";\n$a[] = \"Linda\";\n$a[] = \"Nina\";\n$a[] = \"Ophelia\";\n$a[] = \"Petunia\";\n$a[] = \"Amanda\";\n$a[] = \"Raquel\";\n$a[] = \"Cindy\";\n$a[] = \"Doris\";\n$a[] = \"Eve\";\n$a[] = \"Evita\";\n$a[] = \"Sunniva\";\n$a[] = \"Tove\";\n$a[] = \"Unni\";\n$a[] = \"Violet\";\n$a[] = \"Liza\";\n$a[] = \"Elizabeth\";\n$a[] = \"Ellen\";\n$a[] = \"Wenche\";\n$a[] = \"Vicky\";\n // get the q parameter from URL$q = $_REQUEST[\"q\"];$hint = \"\";// lookup all hints from array if $q is different from \"\" if ($q !== \"\") {  $q = strtolower($q);\n    $len=strlen($q);  foreach($a as $name) {    if (stristr($q, substr($name, 0, $len))) {      if ($hint === \"\") {        $hint = $name;      } else {\n          $hint .= \", $name\";      }\n      }  }}// Output \"no suggestion\" if no hint was found or output correct values \n echo $hint === \"\" ? \"no suggestion\" : $hint;?>"
    }
  ]
}