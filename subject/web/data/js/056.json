{
  "url": "https://www.w3schools.com/js/js_cookies.asp",
  "title": "JavaScript",
  "content": [
    {
      "type": "heading",
      "level": 1,
      "text": "JavaScript Cookies"
    },
    {
      "type": "paragraph",
      "text": "Cookies let you store user information in web pages."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "What are Cookies?"
    },
    {
      "type": "paragraph",
      "text": "Cookies are data, stored in small text files, on your computer."
    },
    {
      "type": "paragraph",
      "text": "When a web server has sent a web page to a browser, the connection is \nshut down, and the server forgets everything about the user."
    },
    {
      "type": "paragraph",
      "text": "Cookies were invented to solve the problem \"how to remember information about \nthe user\":"
    },
    {
      "type": "other",
      "text": "When a user visits a web page, his/her name can be stored in a cookie.\nNext time the user visits the page, the cookie \"remembers\" his/her name."
    },
    {
      "type": "paragraph",
      "text": "Cookies are saved in name-value pairs like:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "username = John Doe"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "When a browser requests a web page from a server, cookies belonging to the page are added to the request. This way the server \ngets the necessary data to \"remember\" information about users."
    },
    {
      "type": "other",
      "text": "None of the examples below will work if your browser has local cookies support turned off."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "Create a Cookie with JavaScript"
    },
    {
      "type": "paragraph",
      "text": "JavaScript can create, read, and delete cookies with the document.cookie \nproperty."
    },
    {
      "type": "paragraph",
      "text": "With JavaScript, a cookie can be created like this:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "document.cookie = \"username=John Doe\";"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "You can also add an expiry date (in UTC time).\nBy default, the cookie is deleted when the browser is closed:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "document.cookie = \"username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC\";"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "With a path parameter, you can tell the browser what path the cookie belongs to.\nBy default, the cookie belongs to the current page."
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "document.cookie = \"username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/\";"
        }
      ]
    },
    {
      "type": "heading",
      "level": 2,
      "text": "Read a Cookie with JavaScript"
    },
    {
      "type": "paragraph",
      "text": "With JavaScript, cookies can be read like this:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "let x = document.cookie;"
        }
      ]
    },
    {
      "type": "other",
      "text": "document.cookie will return all cookies in one string much like: cookie1=value; cookie2=value; cookie3=value;"
    },
    {
      "type": "heading",
      "level": 2,
      "text": "Change a Cookie with JavaScript"
    },
    {
      "type": "paragraph",
      "text": "With JavaScript, you can change a cookie the same way as you create it:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "document.cookie = \"username=John Smith; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/\";"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "The old cookie is overwritten."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "Delete a Cookie with JavaScript"
    },
    {
      "type": "paragraph",
      "text": "Deleting a cookie is very simple."
    },
    {
      "type": "paragraph",
      "text": "You don't have to specify a cookie value when you delete a cookie."
    },
    {
      "type": "paragraph",
      "text": "Just set the expires parameter to a past date:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "document.cookie = \"username=; expires=Thu, 01 \nJan 1970 00:00:00 UTC; path=/;\";"
        }
      ]
    },
    {
      "type": "other",
      "text": "You should define the cookie path to ensure that you delete the right cookie.\nSome browsers will not let you delete a cookie if you don't specify the path."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "The Cookie String"
    },
    {
      "type": "paragraph",
      "text": "The document.cookie property looks like a normal text string. But it is not."
    },
    {
      "type": "paragraph",
      "text": "Even if you write a whole cookie string to document.cookie, when you read it out again, you can only see the \nname-value pair of it."
    },
    {
      "type": "paragraph",
      "text": "If you set a new cookie, older cookies are not overwritten.\nThe new cookie is added to document.cookie, so if you read document.cookie \nagain you will get something like:"
    },
    {
      "type": "paragraph",
      "text": "cookie1 = value; cookie2 = value;"
    },
    {
      "type": "paragraph",
      "text": "Display All Cookies \nCreate Cookie 1 \nCreate Cookie 2\nDelete Cookie 1 \nDelete Cookie 2"
    },
    {
      "type": "paragraph",
      "text": "If you want to find the value of one specified cookie, you must write a JavaScript \nfunction that searches for the cookie value in the cookie string."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "JavaScript Cookie Example"
    },
    {
      "type": "paragraph",
      "text": "In the example to follow, we will create a cookie that stores the name of a visitor."
    },
    {
      "type": "paragraph",
      "text": "The first time a visitor arrives to the web page, he/she will be asked to fill in his/her name. The name is then stored in a cookie."
    },
    {
      "type": "paragraph",
      "text": "The next time the visitor arrives at the same page, he/she will get a welcome message."
    },
    {
      "type": "paragraph",
      "text": "For the example we will create 3 JavaScript functions:"
    },
    {
      "type": "other",
      "text": "A function to set a cookie value\n  A function to get a cookie value\n  A function to check a cookie value"
    },
    {
      "type": "heading",
      "level": 2,
      "text": "A Function to Set a Cookie"
    },
    {
      "type": "paragraph",
      "text": "First, we create a function that stores the name of the visitor in a cookie variable:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "function setCookie(cname, cvalue, exdays) {\n   const d = new Date();  d.setTime(d.getTime() + (exdays*24*60*60*1000));  let expires = \"expires=\"+ d.toUTCString();  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";}"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "Example explained:"
    },
    {
      "type": "paragraph",
      "text": "The parameters of the function above are the name of the cookie (cname), the value of the cookie \n(cvalue), and the number of days until the cookie should expire (exdays)."
    },
    {
      "type": "paragraph",
      "text": "The function sets a cookie by adding together the cookiename, the cookie \nvalue, and the expires string."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "A Function to Get a Cookie"
    },
    {
      "type": "paragraph",
      "text": "Then, we create a function that returns the value of a specified cookie:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "function getCookie(cname) {\n   \nlet name = cname + \"=\";\n   \nlet decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n  for(let i = 0; i <ca.length; i++) {\n      let c = ca[i];    while (c.charAt(0) == ' ') {      c = c.substring(1);\n      \n }\n      if (c.indexOf(name) == 0) {      return c.substring(name.length, c.length);\n      }\n    }\n    return \"\";\n}"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "Function explained:"
    },
    {
      "type": "paragraph",
      "text": "Take the cookiename as parameter (cname)."
    },
    {
      "type": "paragraph",
      "text": "Create a variable (name) with the text to search for (cname + \"=\")."
    },
    {
      "type": "paragraph",
      "text": "Decode the cookie string, to handle cookies with special characters, e.g. '$'"
    },
    {
      "type": "paragraph",
      "text": "Split document.cookie on semicolons into an array called ca (ca = \ndecodedCookie.split(';'))."
    },
    {
      "type": "paragraph",
      "text": "Loop through the ca array (i = 0; i < ca.length; i++), and read out each value \nc = ca[i])."
    },
    {
      "type": "paragraph",
      "text": "If the cookie is found (c.indexOf(name) == 0), return the value of the cookie \n(c.substring(name.length, c.length)."
    },
    {
      "type": "paragraph",
      "text": "If the cookie is not found, return \"\"."
    },
    {
      "type": "heading",
      "level": 2,
      "text": "A Function to Check a Cookie"
    },
    {
      "type": "paragraph",
      "text": "Last, we create the function that checks if a cookie is set."
    },
    {
      "type": "paragraph",
      "text": "If the cookie is set it will display a greeting."
    },
    {
      "type": "paragraph",
      "text": "If the cookie is not set, it will display a prompt box, asking for the name of the user,\nand stores the username cookie for 365 days, by calling the setCookie function:"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "function checkCookie() {  let \nusername = getCookie(\"username\");  if (username != \"\") {\n     alert(\"Welcome again \" + username);\n  } else {\n    username = prompt(\"Please enter your name:\", \"\");\n      if (username != \"\" \n&& username != null) {\n        setCookie(\"username\", username, 365);\n      }  }}"
        }
      ]
    },
    {
      "type": "heading",
      "level": 2,
      "text": "All Together Now"
    },
    {
      "type": "example",
      "description": "",
      "codes": [
        {
          "language": "unknown",
          "code": "function setCookie(cname, cvalue, exdays) {\n  const d = new Date();\n   \nd.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));  let expires = \"expires=\"+d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \n\";\" + expires + \";path=/\";\n}function getCookie(cname) {  let name = cname + \"=\";\n    let ca \n= document.cookie.split(';');  for(let i = 0; i < ca.length; i++) \n{    \nlet c = ca[i];    while (c.charAt(0) == ' \n') {      c = c.substring(1);    }    if (c.indexOf(name) \n == 0) {      return c.substring(name.length, c.length);\n      }  }\n    return \"\";}function \ncheckCookie() {  let user = getCookie(\"username\");\n  if (user != \"\") \n{    alert(\"Welcome again \" + user);\n  } else {\n    user = prompt(\"Please enter your name:\", \"\");\n      if (user != \"\" && \nuser != null) {\n      setCookie(\"username\", user, 365);\n      }  }}"
        }
      ]
    },
    {
      "type": "paragraph",
      "text": "The example above runs the checkCookie() function when the page loads."
    }
  ]
}