{
  "url": "https://www.w3schools.com/sql/sql_foreignkey.asp",
  "title": "SQL ",
  "content": [
    {
      "type": "other",
      "text": "SQL FOREIGN KEY Constraint"
    },
    {
      "type": "other",
      "text": "❮ Previous\nNext ❯"
    },
    {
      "type": "heading",
      "text": "SQL FOREIGN KEY Constraint"
    },
    {
      "type": "paragraph",
      "text": "The FOREIGN KEY constraint is used to prevent actions that would destroy links between tables."
    },
    {
      "type": "paragraph",
      "text": "A FOREIGN KEY is a field (or collection of fields) in one table, that refers to \nthe PRIMARY KEY in another table."
    },
    {
      "type": "paragraph",
      "text": "The table with the foreign key is called the child table, and the table \nwith the primary key is called the referenced or parent table."
    },
    {
      "type": "paragraph",
      "text": "Look at the following two tables:"
    },
    {
      "type": "other",
      "text": "Persons Table"
    },
    {
      "type": "other",
      "text": "PersonID\n    LastName\n    FirstName\n    Age\n  \n  \n    1\n    Hansen\n    Ola\n    30\n  \n  \n    2\n    Svendson\n    Tove\n    23\n  \n  \n    3\n    Pettersen\n    Kari\n    20"
    },
    {
      "type": "other",
      "text": "Orders Table"
    },
    {
      "type": "table",
      "data": [
        [
          "OrderID",
          "OrderNumber",
          "PersonID"
        ],
        [
          "1",
          "77895",
          "3"
        ],
        [
          "2",
          "44678",
          "3"
        ],
        [
          "3",
          "22456",
          "2"
        ],
        [
          "4",
          "24562",
          "1"
        ]
      ]
    },
    {
      "type": "paragraph",
      "text": "Notice that the \"PersonID\" column in the \"Orders\" table points to the \"PersonID\" column in the \"Persons\" table."
    },
    {
      "type": "paragraph",
      "text": "The \"PersonID\" column in the \"Persons\" table is the PRIMARY KEY in the \"Persons\" table."
    },
    {
      "type": "paragraph",
      "text": "The \"PersonID\" column in the \"Orders\" table is a \nFOREIGN KEY in the \"Orders\" table."
    },
    {
      "type": "paragraph",
      "text": "The FOREIGN KEY constraint prevents invalid data from being inserted into the foreign key column,\nbecause it has to be one of the values contained in the parent table."
    },
    {
      "type": "heading",
      "text": "SQL FOREIGN KEY on CREATE TABLE"
    },
    {
      "type": "paragraph",
      "text": "The following SQL creates a FOREIGN KEY on the \"PersonID\" column when the \"Orders\" table is created:"
    },
    {
      "type": "paragraph",
      "text": "MySQL:"
    },
    {
      "type": "other",
      "text": "CREATE TABLE Orders\n(\n   \nOrderID int NOT NULL,\n   \nOrderNumber int NOT NULL,\n   \nPersonID int,\n   \nPRIMARY KEY (OrderID),\n   \nFOREIGN KEY (PersonID) REFERENCES Persons(PersonID)\n);"
    },
    {
      "type": "paragraph",
      "text": "SQL Server / Oracle / MS Access:"
    },
    {
      "type": "other",
      "text": "CREATE TABLE Orders\n(\n   \nOrderID int NOT NULL PRIMARY KEY,\n   \nOrderNumber int NOT NULL,\n   \nPersonID int FOREIGN KEY REFERENCES Persons(PersonID)\n);"
    },
    {
      "type": "paragraph",
      "text": "To allow naming of a FOREIGN KEY constraint, and for defining a \nFOREIGN KEY constraint on multiple columns, use the following SQL syntax:"
    },
    {
      "type": "paragraph",
      "text": "MySQL / SQL Server / Oracle / MS Access:"
    },
    {
      "type": "other",
      "text": "CREATE TABLE Orders\n(\n   \nOrderID int NOT NULL,\n   \nOrderNumber int NOT NULL,\n   \nPersonID int,\n   \nPRIMARY KEY (OrderID),\n   \nCONSTRAINT FK_PersonOrder FOREIGN KEY (PersonID)\n   \nREFERENCES Persons(PersonID)\n);"
    },
    {
      "type": "heading",
      "text": "SQL FOREIGN KEY on ALTER TABLE"
    },
    {
      "type": "paragraph",
      "text": "To create a FOREIGN KEY constraint on the \"PersonID\" column when the \"Orders\" table is already created, use the following SQL:"
    },
    {
      "type": "paragraph",
      "text": "MySQL / SQL Server / Oracle / MS Access:"
    },
    {
      "type": "other",
      "text": "ALTER TABLE Orders\nADD FOREIGN KEY (PersonID)\nREFERENCES Persons(PersonID);"
    },
    {
      "type": "paragraph",
      "text": "To allow naming of a FOREIGN KEY constraint, and for defining a \nFOREIGN KEY constraint on multiple columns, use the following SQL syntax:"
    },
    {
      "type": "paragraph",
      "text": "MySQL / SQL Server / Oracle / MS Access:"
    },
    {
      "type": "other",
      "text": "ALTER TABLE Orders\nADD CONSTRAINT FK_PersonOrder\nFOREIGN KEY (PersonID)\nREFERENCES Persons(PersonID);"
    },
    {
      "type": "heading",
      "text": "DROP a FOREIGN KEY Constraint"
    },
    {
      "type": "paragraph",
      "text": "To drop a FOREIGN KEY constraint, use the following SQL:"
    },
    {
      "type": "paragraph",
      "text": "MySQL:"
    },
    {
      "type": "other",
      "text": "ALTER TABLE Orders\nDROP FOREIGN KEY FK_PersonOrder;"
    },
    {
      "type": "paragraph",
      "text": "SQL Server / Oracle / MS Access:"
    },
    {
      "type": "other",
      "text": "ALTER TABLE Orders\nDROP CONSTRAINT FK_PersonOrder;"
    },
    {
      "type": "other",
      "text": "❮ Previous\nNext ❯"
    },
    {
      "type": "other",
      "text": "★\n\n      +1\n    \n  \n\n  \n   \n\n  \n    \n      \n        Track your progress - it's free!\n        \n          \n                 \n          \n        \n      \n    \n\n    \n      \n        \n          Log in\n        \n\n        \n          Sign Up"
    }
  ]
}